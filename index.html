<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Fly to a location based on scroll position</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>


<style>
#map {
    position: fixed;
    width:50%;
}
#features {
    width: 50%;
    margin-left: 50%;
    font-family: sans-serif;
    overflow-y: scroll;
    background-color: #fafafa;
}
section {
    padding:  25px 50px;
    line-height: 25px;
    border-bottom: 1px solid #ddd;
    opacity: 0.25;
    font-size: 13px;
}
section.active {
    opacity: 1;
}
section:last-child {
    border-bottom: none;
    margin-bottom: 200px;
}
</style>

<div id='map'></div>
<div id='features'>
      <section id='arma_konda' class='active'>
          <h3>Alma Konda - 1680 m</h3>
          <p><b>Region - </b>Eastern Ghats</p>
          <p><b>State - </b>Andhra Pradesh</p>
          <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
      </section>
      <section id='namcha_barwa'>
          <h3>Namcha Barwa - 7782 m</h3>
          <p><b>Region - </b>Eastern Himalaya</p>
          <p><b>State - </b>Arunachal Pradesh</p>
          <p>Namcha Barwa is in an isolated part of southeastern Tibet rarely visited by outsiders. It stands inside the Great Bend of the Yarlung Tsangpo River as the river enters its notable gorge across the Himalaya, emerging as the Siang and becoming the Brahmaputra. Namcha Barwa's sister peak Gyala Peri 7,294 metres rises across the gorge 22 km to the NNW.</p>
    </section>
    <section id='laike'>
        <h3>Unnamed peak near Laike - 1960 m</h3>
        <p><b>Region - </b>Dima Hasao District</p>
        <p><b>State - </b>Assam</p>
        <p>This is the highest peak in Assam located in the Assam hills, which falls under the Dima Hasao District.</p>
    </section>
    <section id='someshwar'>
        <h3>Fort Someshwar - 880 m</h3>
        <p><b>Region - </b>Sivalik Hills</p>
        <p><b>State - </b>Bihar</p>
        <p>Fort Someshwar is the highest peak in Bihar, India. It is situated in the district of West Champaran. It has an elevation of 880 metres (2,890 ft). The fort itself is a ruin.</p>
  </section>
  <section id='gaurlata'>
      <h3>Unnamed peak near Gaurlata - 1276 m</h3>
      <p><b>Region - </b>Bailadila Range</p>
      <p><b>State - </b>Chhattisgarh</p>
      <p>The highest named peak is Gaurlata (1225 m or 4186 ft).</p>
  </section>

  <!--- fis this>
  <!--->
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
  <section id='<we need to change this>'>
      <h3>Alma Konda - 1680 m</h3>
      <p><b>Region - </b>Eastern Ghats</p>
      <p><b>State - </b>Andhra Pradesh</p>
      <p>Arma Konda, Arama Konda or Sitamma Konda, is a mountain peak in the northern part of the Eastern Ghats and located in Godavari river basin. It is located in the Madugula Konda sub range north of Paderu village in Andhra Pradesh, India.</p>
  </section>
    <section id='charing-cross'>
        <h3>Charing Cross Hotel</h3>
        <p>Walter writes to Oberstein and convinces him to meet in the smoking room of the Charing Cross Hotel where he promises additional plans for the submarine in exchange for money. The plan works and Holmes and Watson catch both criminals.</p>
        <small id="citation">
            Adapted from <a href='http://www.gutenberg.org/files/2346/2346-h/2346-h.htm'>Project Gutenberg</a>
        </small>
    </section>
</div>
<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoia29pc2hvcmUiLCJhIjoiY2pkeWl5OHlmNTNrcTJ4cWg0cXM1M201NSJ9.jtDDuRLyQtUIaWlF4-qR0Q';

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/koishore/cjdzw9tjj4v142rnwo9e6lt82',
    center: [82.723,18.228],
    zoom: 15.5,
    bearing: 27,
    pitch: 45
});

var chapters = {
    'arma_konda': {
        bearing: 27,
        center: [82.723,18.228],
        zoom: 15.5,
        pitch: 20
    },
    'namcha_barwa': {
        duration: 6000,
        center: [95.0542,29.6325],
        bearing: 150,
        zoom: 15,
        pitch: 0
    },
    'laike': {
        bearing: 90,
        center: [93.4529,25.32135],
        zoom: 13,
        speed: 0.6,
        pitch: 40
    },
    'someshwar': {
        bearing: 90,
        center: [84.3055,27.3876],
        zoom: 12.3
    },
    'gaurlata': {
        bearing: 45,
        center: [-0.18335806, 51.49439521],
        zoom: 15.3,
        pitch: 20,
        speed: 0.5
    },
    'caulfield-gardens': {
        bearing: 180,
        center: [-0.19684993, 51.5033856],
        zoom: 12.3
    },
    'telegraph': {
        bearing: 90,
        center: [-0.10669358, 51.51433123],
        zoom: 17.3,
        pitch: 40
    },
    'charing-cross': {
        bearing: 90,
        center: [-0.12416858, 51.50779757],
        zoom: 14.3,
        pitch: 20
    }
};

// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chapters);
    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];
        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            break;
        }
    }
};

var activeChapterName = 'arma_konda';
function setActiveChapter(chapterName) {
    if (chapterName === activeChapterName) return;

    map.flyTo(chapters[chapterName]);

    document.getElementById(chapterName).setAttribute('class', 'active');
    document.getElementById(activeChapterName).setAttribute('class', '');

    activeChapterName = chapterName;
}

function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 0;
}

</script>

</body>
</html>
